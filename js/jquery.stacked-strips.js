$.fn.stacked_strips=function(i){function s(){void 0===i.type&&(i.type="standard"),void 0!==i.active_position&&"number"===$.type(i.active_position)||(i.active_position=50),void 0===i.strip_size&&(i.strip_size="full"),void 0===i.after_class&&(i.after_class=!1),void 0===i.fixed&&(i.fixed=!0)}function e(){d=$(window).height(),r="full"===i.strip_size?d:"auto"===i.strip_size?"":i.strip_size,$.each(a,function(s){"auto"===i.strip_size?$(this).css({height:r,"z-index":10*s}):$(this).height()>r?$(this).css("z-index",10*s):$(this).css({height:r,"z-index":10*s})})}function t(){c=$(window).scrollTop()}function o(s,e,t){var o=s.outerHeight(),f=$('<div class="fake-strip"></div>').clone().css("height",o),l,h=o/100*i.active_position;c>=e&&i.fixed===!0?t<n-1&&o===r&&(s.prev().hasClass("fake-strip")||s.before(f),s.addClass("fixed"),s.removeClass("unfixed")):(s.prev().hasClass("fake-strip")&&s.prev().remove(),s.removeClass("fixed"),s.addClass("unfixed"));var v;v=d>r?d:r,c>=e-(v-h)?(i.after_class===!0&&(l=t-1,void 0!==a[l]&&$(a[l]).addClass("after")),s.addClass("active")):(i.after_class===!0&&(l=t-1,void 0!==a[l]&&$(a[l]).removeClass("after")),s.removeClass("active"))}var a=this,n=a.length,r,d=$(window).height(),c=0;return 1===n?(console.error("stacked_strips requires more than 1 item to work. Exiting."),!1):n<1?(console.error("stacked_strips did not find any matching elements. Exiting."),!1):($(window).on("scroll",t),$(window).on("resize",e),s(),e(),this.each(function(i){var s=$(this),e=i,t=s.offset().top;o(s,t,e),$(window).on("scroll",function(){o(s,t,e)})}))};